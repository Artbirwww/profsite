import { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { SimpleButton as Button } from '../../ui/buttons/SimpleButton';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../../SimpleUI';
import { ArrowLeft, Clock, CheckCircle, AlertCircle } from '../../ui/display/SimpleIcons';
import { useTest } from '../../../contexts/TestContext';
import { useAuth } from '../../../contexts/AuthContext';
import { Progress } from '../../ui/feedback/SimpleProgress';

interface EngineeringThinkingTestProps {
  onBack?: () => void;
}

// –ö–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (–∏–Ω–¥–µ–∫—Å—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 0, –∞ –æ—Ç–≤–µ—Ç—ã —Å 1)
const answerKey = [
  2, 2, 1, 3, 2, 2, 3, 3, 2, 3, 2, 2, 3, 3, 2, 2, 2, 3, 2, 3,
  2, 1, 3, 3, 2, 2, 1, 3, 2, 1, 3, 2, 1, 3, 1, 3, 2, 3, 1, 2,
  1, 2, 3, 1, 3, 1, 1, 1, 2, 3, 2, 1, 2, 1, 1, 2, 1, 1, 2, 1,
  2, 1, 3, 2, 1, 2, 3, 1, 2, 1
];

// –í–æ–ø—Ä–æ—Å—ã —Ç–µ—Å—Ç–∞
const questions = [
  { 
    id: 'q1',
    q: '–ï—Å–ª–∏ –ª–µ–≤–∞—è —à–µ—Å—Ç–µ—Ä–Ω—è –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å—Ç—Ä–µ–ª–∫–æ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —Ç–æ –≤ –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—É–¥–µ—Ç –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è –ø—Ä–∞–≤–∞—è —à–µ—Å—Ç–µ—Ä–Ω—è?', 
    a: ['–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –ê.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í.', '–ù–µ –∑–Ω–∞—é'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q2',
    q: '–ö–∞–∫–∞—è –≥—É—Å–µ–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –¥–≤–∏–≥–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ, —á—Ç–æ–±—ã —Ç—Ä–∞–∫—Ç–æ—Ä –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–ª—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å—Ç—Ä–µ–ª–∫–æ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏?', 
    a: ['–ì—É—Å–µ–Ω–∏—Ü–∞ –ê.', '–ì—É—Å–µ–Ω–∏—Ü–∞ –í.', '–ù–µ –∑–Ω–∞—é.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q3',
    q: '–ï—Å–ª–∏ –≤–µ—Ä—Ö–Ω–µ–µ –∫–æ–ª–µ—Å–æ –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å—Ç—Ä–µ–ª–∫–æ–π, —Ç–æ –≤ –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∏–∂–Ω–µ–µ –∫–æ–ª–µ—Å–æ?', 
    a: ['–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ê.', '–í –æ–±–æ–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –í.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q4',
    q: '–í –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—É–¥–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –∑—É–±—á–∞—Ç–æ–µ –∫–æ–ª–µ—Å–æ, –µ—Å–ª–∏ —Ä—É—á–∫—É —Å–ª–µ–≤–∞ –¥–≤–∏–≥–∞—Ç—å –≤–Ω–∏–∑ –∏ –≤–≤–µ—Ä—Ö –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—É–Ω–∫—Ç–∏—Ä–Ω—ã—Ö —Å—Ç—Ä–µ–ª–æ–∫?', 
    a: ['–í–ø–µ—Ä–µ–¥-–Ω–∞–∑–∞–¥ –ø–æ —Å—Ç—Ä–µ–ª–∫–∞–º –ê-–í.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –ê.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q5',
    q: '–ï—Å–ª–∏ –Ω–∞ –∫—Ä—É–≥–ª—ã–π –¥–∏—Å–∫, —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ, –¥–µ–π—Å—Ç–≤—É—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–≤–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–∏–ª—ã 1 –∏ 2, —Ç–æ –≤ –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—É–¥–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∏—Å–∫?', 
    a: ['–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å—Ç—Ä–µ–ª–∫–æ–π –ê.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –°.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q6',
    q: '–ù—É–∂–Ω—ã –ª–∏ –æ–±–µ —Ü–µ–ø–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—ã–µ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ, –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≥—Ä—É–∑–∞, –∏–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π? –ö–∞–∫–æ–π?', 
    a: ['–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ü–µ–ø–∏ –ê.', '–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ü–µ–ø–∏ –í.', '–ù—É–∂–Ω—ã –æ–±–µ —Ü–µ–ø–∏.'],
    category: '–°—Ç–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q7',
    q: '–í —Ä–µ—á–∫–µ, –≥–¥–µ –≤–æ–¥–∞ —Ç–µ—á–µ—Ç –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å—Ç—Ä–µ–ª–∫–æ–π, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Ç—Ä–∏ —Ç—É—Ä–±–∏–Ω—ã. –ò–∑ —Ç—Ä—É–± –Ω–∞–¥ –Ω–∏–º–∏ –ø–∞–¥–∞–µ—Ç –≤–æ–¥–∞. –ö–∞–∫–∞—è –∏–∑ —Ç—É—Ä–±–∏–Ω –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ?', 
    a: ['–¢—É—Ä–±–∏–Ω–∞ –ê.', '–¢—É—Ä–±–∏–Ω–∞ –í.', '–¢—É—Ä–±–∏–Ω–∞ –°.'],
    category: '–ì–∏–¥—Ä–∞–≤–ª–∏–∫–∞'
  },
  { 
    id: 'q8',
    q: '–ö–∞–∫–æ–µ –∏–∑ –∫–æ–ª–µ—Å, –ê –∏–ª–∏ –í, –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –≤ —Ç–æ–º –∂–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —á—Ç–æ –∏ –∫–æ–ª–µ—Å–æ X?', 
    a: ['–ö–æ–ª–µ—Å–æ –ê.', '–ö–æ–ª–µ—Å–æ –í.', '–û–±–∞ –∫–æ–ª–µ—Å–∞.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q9',
    q: '–ö–∞–∫–∞—è —Ü–µ–ø—å –Ω—É–∂–Ω–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≥—Ä—É–∑–∞?', 
    a: ['–¶–µ–ø—å –ê.', '–¶–µ–ø—å –í.', '–¶–µ–ø—å –°.'],
    category: '–°—Ç–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q10',
    q: '–ö–∞–∫–∞—è –∏–∑ —à–µ—Å—Ç–µ—Ä–µ–Ω –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —á—Ç–æ –∏ –≤–µ–¥—É—â–∞—è —à–µ—Å—Ç–µ—Ä–Ω—è? –ê –º–æ–∂–µ—Ç –±—ã—Ç—å, –≤ —ç—Ç–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∏ –æ–¥–Ω–∞ –∏–∑ —à–µ—Å—Ç–µ—Ä–µ–Ω?', 
    a: ['–®–µ—Å—Ç–µ—Ä–Ω—è –ê.', '–®–µ—Å—Ç–µ—Ä–Ω—è –í.', '–ù–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∏ –æ–¥–Ω–∞.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q11',
    q: '–ö–∞–∫–∞—è –∏–∑ –æ—Å–µ–π, –ê –∏–ª–∏ –í, –≤—Ä–∞—â–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ –∏–ª–∏ –æ–±–µ –æ—Å–∏ –≤—Ä–∞—â–∞—é—Ç—Å—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é?', 
    a: ['–û—Å—å –ê –≤—Ä–∞—â–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.', '–û—Å—å –í –≤—Ä–∞—â–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.', '–û–±–µ –æ—Å–∏ –≤—Ä–∞—â–∞—é—Ç—Å—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q12',
    q: '–ï—Å–ª–∏ –Ω–∏–∂–Ω–µ–µ –∫–æ–ª–µ—Å–æ –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å—Ç—Ä–µ–ª–∫–æ–π, —Ç–æ –≤ –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –æ—Å—å X?', 
    a: ['–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –ê.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í.', '–í —Ç–æ–º –∏ –¥—Ä—É–≥–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö.'],
    category: '–ö–∏–Ω–µ–º–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q13',
    q: '–ö–∞–∫–∞—è –∏–∑ –º–∞—à–∏–Ω —Å –∂–∏–¥–∫–æ—Å—Ç—å—é –≤ –±–æ—á–∫–µ —Ç–æ—Ä–º–æ–∑–∏—Ç?', 
    a: ['–ú–∞—à–∏–Ω–∞ –ê.', '–ú–∞—à–∏–Ω–∞ B.', '–ú–∞—à–∏–Ω–∞ C.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q14',
    q: '–í –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –≤–µ—Ä—Ç—É—à–∫–∞, –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–Ω–∞—è –¥–ª—è –ø–æ–ª–∏–≤–∞, –µ—Å–ª–∏ –≤ –Ω–µ–µ –ø—É—Å—Ç–∏—Ç—å –≤–æ–¥—É –ø–æ–¥ –Ω–∞–ø–æ—Ä–æ–º?', 
    a: ['–í –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –ê.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í'],
    category: '–ì–∏–¥—Ä–∞–≤–ª–∏–∫–∞'
  },
  { 
    id: 'q15',
    q: '–ö–∞–∫–∞—è –∏–∑ —Ä—É–∫–æ—è—Ç–æ–∫ –±—É–¥–µ—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è –ø–æ–¥ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ–º –ø—Ä—É–∂–∏–Ω—ã?', 
    a: ['–ù–µ –±—É–¥—É—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è –æ–±–µ.', '–ë—É–¥–µ—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è —Ä—É–∫–æ—è—Ç–∫–∞ –ê.', '–ë—É–¥–µ—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è —Ä—É–∫–æ—è—Ç–∫–∞ –í.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q16',
    q: '–í –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ–¥–≤–∏–≥–∞–ª–∏ –∫—Ä–æ–≤–∞—Ç—å –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑?', 
    a: ['–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –ê.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í.', '–ù–µ –∑–Ω–∞—é.'],
    category: '–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ'
  },
  { 
    id: 'q17',
    q: '–ö–æ–ª–µ—Å–æ –∏ —Ç–æ—Ä–º–æ–∑–Ω–∞—è –∫–æ–ª–æ–¥–∫–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∏–∑ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞. –ß—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –∏–∑–Ω–æ—Å–∏—Ç—Å—è: –∫–æ–ª–µ—Å–æ –∏–ª–∏ –∫–æ–ª–æ–¥–∫–∞?', 
    a: ['–ö–æ–ª–µ—Å–æ –∏–∑–Ω–æ—Å–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.', '–ö–æ–ª–æ–¥–∫–∞ –∏–∑–Ω–æ—Å–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.', '–ò –∫–æ–ª–µ—Å–æ, –∏ –∫–æ–ª–æ–¥–∫–∞ –∏–∑–Ω–æ—Å—è—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ.'],
    category: '–ú–∞—Ç–µ—Ä–∏–∞–ª–æ–≤–µ–¥–µ–Ω–∏–µ'
  },
  { 
    id: 'q18',
    q: '–û–¥–∏–Ω–∞–∫–æ–≤–æ–π –ª–∏ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –∂–∏–¥–∫–æ—Å—Ç—è–º–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –µ–º–∫–æ—Å—Ç–∏ –∏–ª–∏ –æ–¥–Ω–∞ –∏–∑ –∂–∏–¥–∫–æ—Å—Ç–µ–π –±–æ–ª–µ–µ –ø–ª–æ—Ç–Ω–∞—è, —á–µ–º –¥—Ä—É–≥–∞—è (—à–∞—Ä—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ)?', 
    a: ['–û–±–µ –∂–∏–¥–∫–æ—Å—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏.', '–ñ–∏–¥–∫–æ—Å—Ç—å –ê –ø–ª–æ—Ç–Ω–µ–µ.', '–ñ–∏–¥–∫–æ—Å—Ç—å –í –ø–ª–æ—Ç–Ω–µ–µ.'],
    category: '–ì–∏–¥—Ä–∞–≤–ª–∏–∫–∞'
  },
  { 
    id: 'q19',
    q: '–í –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –ø–æ–¥ –Ω–∞–ø–æ—Ä–æ–º –≤–æ–∑–¥—É—Ö–∞?', 
    a: ['–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –ê.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í.', '–í —Ç–æ–º –∏ –¥—Ä—É–≥–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q20',
    q: '–í –∫–∞–∫–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–∏—Å–∫ –ø–æ—Å–ª–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ª–∏–Ω–∏–∏?', 
    a: ['–í –∫–∞–∫–æ–º —É–≥–æ–¥–Ω–æ.', '–í –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –ê.', '–í –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –í.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q21',
    q: '–ö–∞–∫–∏–º–∏ –Ω–æ–∂–Ω–∏—Ü–∞–º–∏ –ª–µ–≥—á–µ —Ä–µ–∑–∞—Ç—å –ª–∏—Å—Ç –∂–µ–ª–µ–∑–∞?', 
    a: ['–ù–æ–∂–Ω–∏—Ü–∞–º–∏ –ê.', '–ù–æ–∂–Ω–∏—Ü–∞–º–∏ –í.', '–ù–æ–∂–Ω–∏—Ü–∞–º–∏ –°.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q22',
    q: '–ö–∞–∫–æ–µ –∫–æ–ª–µ—Å–æ –∫—Ä–µ—Å–ª–∞-–∫–æ–ª—è—Å–∫–∏ –≤—Ä–∞—â–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –∫–æ–ª—è—Å–∫–∏?', 
    a: ['–ö–æ–ª–µ—Å–æ –ê –≤—Ä–∞—â–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.', '–û–±–∞ –∫–æ–ª–µ—Å–∞ –≤—Ä–∞—â–∞—é—Ç—Å—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.', '–ö–æ–ª–µ—Å–æ –í –≤—Ä–∞—â–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.'],
    category: '–ö–∏–Ω–µ–º–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q23',
    q: '–ö–∞–∫ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è —Ñ–æ—Ä–º–∞ –∑–∞–ø–∞—è–Ω–Ω–æ–π —Ç–æ–Ω–∫–æ—Å—Ç–µ–Ω–Ω–æ–π –∂–µ—Å—Ç—è–Ω–æ–π –±–∞–Ω–∫–∏, –µ—Å–ª–∏ –µ–µ –Ω–∞–≥—Ä–µ–≤–∞—Ç—å?', 
    a: ['–ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ –ê.', '–ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ –í.', '–ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ –°.'],
    category: '–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q24',
    q: '–ö–∞–∫–∞—è –∏–∑ —à–µ—Å—Ç–µ—Ä–µ–Ω –≤—Ä–∞—â–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ?', 
    a: ['–®–µ—Å—Ç–µ—Ä–Ω—è –ê.', '–®–µ—Å—Ç–µ—Ä–Ω—è –í.', '–®–µ—Å—Ç–µ—Ä–Ω—è –°.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q25',
    q: '–° –∫–∞–∫–∏–º —à–∞—Ä–∏–∫–æ–º —Å—Ç–æ–ª–∫–Ω–µ—Ç—Å—è —à–∞—Ä–∏–∫ X, –µ—Å–ª–∏ –µ–≥–æ —É–¥–∞—Ä–∏—Ç—å –æ –ø—Ä–µ–≥—Ä–∞–¥—É –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å–ø–ª–æ—à–Ω–æ–π —Å—Ç—Ä–µ–ª–∫–æ–π?', 
    a: ['–° —à–∞—Ä–∏–∫–æ–º –ê.', '–° —à–∞—Ä–∏–∫–æ–º –í.', '–° —à–∞—Ä–∏–∫–æ–º –°.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q26',
    q: '–î–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ª–µ—Å–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∏–∑ —Ä–µ–∑–∏–Ω—ã, –í –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –Ω—É–∂–Ω–æ –≤—Ä–∞—â–∞—Ç—å –≤–µ–¥—É—â–µ–µ –∫–æ–ª–µ—Å–æ (–ª–µ–≤–æ–µ), —á—Ç–æ–±—ã –∫–æ–ª–µ—Å–æ –• –≤—Ä–∞—â–∞–ª–æ—Å—å –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø—É–Ω–∫—Ç–∏—Ä–Ω–æ–π —Å—Ç—Ä–µ–ª–∫–æ–π?', 
    a: ['–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –ê.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í.', '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q27',
    q: '–ï—Å–ª–∏ –ø–µ—Ä–≤–∞—è —à–µ—Å—Ç–µ—Ä–Ω—è –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å—Ç—Ä–µ–ª–∫–æ–π, —Ç–æ –≤ –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤–µ—Ä—Ö–Ω—è—è —à–µ—Å—Ç–µ—Ä–Ω—è?', 
    a: ['–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –ê.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í.', '–ù–µ –∑–Ω–∞—é.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q28',
    q: '–í–µ—Å —Ñ–∏–≥—É—Ä –ê, –í –∏ –° –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π. –ö–∞–∫—É—é –∏–∑ –Ω–∏—Ö —Ç—Ä—É–¥–Ω–µ–µ –æ–ø—Ä–æ–∫–∏–Ω—É—Ç—å?', 
    a: ['–§–∏–≥—É—Ä—É –ê.', '–§–∏–≥—É—Ä—É –í.', '–§–∏–≥—É—Ä—É –°.'],
    category: '–°—Ç–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q29',
    q: '–ö–∞–∫–∏–º–∏ –∫—É—Å–æ—á–∫–∞–º–∏ –ª—å–¥–∞ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –æ—Ö–ª–∞–¥–∏—Ç—å —Å—Ç–∞–∫–∞–Ω –≤–æ–¥—ã?', 
    a: ['–ö—É—Å–∫–æ–º –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –ê.', '–ö—É—Å–æ—á–∫–∞–º–∏ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –í.', '–ö—É—Å–∫–æ–º –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –°.'],
    category: '–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q30',
    q: '–ù–∞ –∫–∞–∫–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ –ø–∞–¥–µ–Ω–∏–µ –±–æ–º–±—ã –∏–∑ —Å–∞–º–æ–ª–µ—Ç–∞?', 
    a: ['–ù–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –ê.', '–ù–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –í.', '–ù–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –°.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q31',
    q: '–í –∫–∞–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É –∑–∞–Ω–µ—Å–µ—Ç —ç—Ç—É –º–∞—à–∏–Ω—É, –¥–≤–∏–∂—É—â—É—é—Å—è –ø–æ —Å—Ç—Ä–µ–ª–∫–µ, –Ω–∞ –ø–æ–≤–æ—Ä–æ—Ç–µ?', 
    a: ['–í –ª—é–±—É—é —Å—Ç–æ—Ä–æ–Ω—É.', '–í —Å—Ç–æ—Ä–æ–Ω—É –ê.', '–í —Å—Ç–æ—Ä–æ–Ω—É –í.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q32',
    q: '–í –µ–º–∫–æ—Å—Ç–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–µ–¥. –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —É—Ä–æ–≤–Ω–µ–º –ª—å–¥–∞ –ø–æ—Å–ª–µ –µ–≥–æ —Ç–∞—è–Ω–∏—è?', 
    a: ['–£—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—Å–∏—Ç—Å—è.', '–£—Ä–æ–≤–µ–Ω—å –ø–æ–Ω–∏–∑–∏—Ç—Å—è.', '–£—Ä–æ–≤–µ–Ω—å –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è.'],
    category: '–§–∏–∑–∏–∫–∞'
  },
  { 
    id: 'q33',
    q: '–ö–∞–∫–æ–π –∏–∑ –∫–∞–º–Ω–µ–π, –ê –∏–ª–∏ –í, –ª–µ–≥—á–µ –¥–≤–∏–≥–∞—Ç—å?', 
    a: ['–ö–∞–º–µ–Ω—å –ê.', '–£—Å–∏–ª–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏.', '–ö–∞–º–µ–Ω—å –í.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q34',
    q: '–ö–∞–∫–∞—è –∏–∑ –æ—Å–µ–π –≤—Ä–∞—â–∞–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ?', 
    a: ['–û—Å—å –ê.', '–û—Å—å –í.', '–û—Å—å –°.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q35',
    q: '–û–¥–∏–Ω–∞–∫–æ–≤ –ª–∏ –≤–µ—Å –æ–±–æ–∏—Ö —è—â–∏–∫–æ–≤ –∏–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö –ª–µ–≥—á–µ?', 
    a: ['–Ø—â–∏–∫ –ê –ª–µ–≥—á–µ.', '–Ø—â–∏–∫ –í –ª–µ–≥—á–µ.', '–Ø—â–∏–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ –≤–µ—Å–∞.'],
    category: '–°—Ç–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q36',
    q: '–ë—Ä—É—Å–∫–∏ –ê –∏ –í –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–µ—á–µ–Ω–∏—è –∏ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∏–∑ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞. –ö–∞–∫–æ–π –∏–∑ –±—Ä—É—Å–∫–æ–≤ –º–æ–∂–µ—Ç –≤—ã–¥–µ—Ä–∂–∞—Ç—å –±–æ–ª—å—à–∏–π –≤–µ—Å?', 
    a: ['–û–±–∞ –≤—ã–¥–µ—Ä–∂–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É.', '–ë—Ä—É—Å–æ–∫ –ê.', '–ë—Ä—É—Å–æ–∫ –í.'],
    category: '–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤'
  },
  { 
    id: 'q37',
    q: '–ù–∞ –∫–∞–∫—É—é –≤—ã—Å–æ—Ç—É –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –≤–æ–¥–∞ –∏–∑ —à–ª–∞–Ω–≥–∞, –µ—Å–ª–∏ –µ–µ –≤—ã–ø—É—Å—Ç–∏—Ç—å –∏–∑ —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–≤ –ê –∏ –í, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–æ–≤–µ—Ä—Ö—É?', 
    a: ['–ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ –ê.', '–ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ –í.', '–î–æ –≤—ã—Å–æ—Ç—ã —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–≤.'],
    category: '–ì–∏–¥—Ä–∞–≤–ª–∏–∫–∞'
  },
  { 
    id: 'q38',
    q: '–ö–∞–∫–æ–π –∏–∑ —ç—Ç–∏—Ö —Ü–µ–ª—å–Ω–æ–º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –æ—Ö–ª–∞–¥–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, –µ—Å–ª–∏ –∏—Ö –≤—ã–Ω–µ—Å—Ç–∏ –≥–æ—Ä—è—á–∏–º–∏ –Ω–∞ –≤–æ–∑–¥—É—Ö?', 
    a: ['–ü—Ä–µ–¥–º–µ—Ç –ê.', '–ü—Ä–µ–¥–º–µ—Ç –í.', '–ü—Ä–µ–¥–º–µ—Ç –°.'],
    category: '–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q39',
    q: '–í –∫–∞–∫–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π –¥–∏—Å–∫ —Å–æ –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –≤ –Ω–µ–≥–æ –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–º –∫—Ä—É–∂–∫–æ–º, –µ—Å–ª–∏ –¥–∏—Å–∫ –∫–∞—Ç–Ω—É—Ç—å?', 
    a: ['–í –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –ê.', '–í –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –í.', '–í –ª—é–±–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q40',
    q: '–í –∫–∞–∫–æ–º –º–µ—Å—Ç–µ –ø–µ—Ä–µ–ª–æ–º–∏—Ç—Å—è –ø–∞–ª–∫–∞, –µ—Å–ª–∏ —Ä–µ–∑–∫–æ –Ω–∞–∂–∞—Ç—å –Ω–∞ –µ–µ –∫–æ–Ω–µ—Ü —Å–ª–µ–≤–∞?', 
    a: ['–í –º–µ—Å—Ç–µ –ê.', '–í –º–µ—Å—Ç–µ –í.', '–í –º–µ—Å—Ç–µ –°.'],
    category: '–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤'
  },
  { 
    id: 'q41',
    q: '–ù–∞ –∫–∞–∫–æ–π –µ–º–∫–æ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–Ω–µ—Å–µ–Ω—ã —Ä–∏—Å–∫–∏, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–µ —Ä–∞–≤–Ω—ã–µ –æ–±—ä–µ–º—ã?', 
    a: ['–ù–∞ –µ–º–∫–æ—Å—Ç–∏ –ê.', '–ù–∞ –µ–º–∫–æ—Å—Ç–∏ –í.', '–ù–∞ –µ–º–∫–æ—Å—Ç–∏ –°.'],
    category: '–ì–µ–æ–º–µ—Ç—Ä–∏—è'
  },
  { 
    id: 'q42',
    q: '–ù–∞ –∫–∞–∫–æ–º –∏–∑ —Ä–∏—Å—É–Ω–∫–æ–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∞ –≤–æ–¥–∞, –≤—ã–ª–∏–≤–∞—é—â–∞—è—Å—è –∏–∑ –æ—Ç–≤–µ—Ä—Å—Ç–∏–π —Å–æ—Å—É–¥–∞?', 
    a: ['–ù–∞ —Ä–∏—Å—É–Ω–∫–µ –ê.', '–ù–∞ —Ä–∏—Å—É–Ω–∫–µ –í.', '–ù–∞ —Ä–∏—Å—É–Ω–∫–µ –°.'],
    category: '–ì–∏–¥—Ä–∞–≤–ª–∏–∫–∞'
  },
  { 
    id: 'q43',
    q: '–í –∫–∞–∫–æ–º –ø–∞–∫–µ—Ç–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ —Ä–∞—Å—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ?', 
    a: ['–í –ø–∞–∫–µ—Ç–µ –ê.', '–í –ø–∞–∫–µ—Ç–µ –í.', '–û–¥–∏–Ω–∞–∫–æ–≤–æ.'],
    category: '–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q44',
    q: '–ö–∞–∫ –±—É–¥–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ–¥–≤–µ—à–µ–Ω–Ω—ã–π –≥—Ä—É–∑, –µ—Å–ª–∏ –≤–µ—Ä—Ö–Ω–µ–µ –∫–æ–ª–µ—Å–æ –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏?', 
    a: ['–ü—Ä–µ—Ä—ã–≤–∏—Å—Ç–æ –≤–Ω–∏–∑.', '–ü—Ä–µ—Ä—ã–≤–∏—Å—Ç–æ –≤–≤–µ—Ä—Ö.', '–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ –≤–≤–µ—Ä—Ö.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q45',
    q: '–ö–∞–∫–æ–µ –∏–∑ –∫–æ–ª–µ—Å, –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –∏–∑ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞, –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –¥–æ–ª—å—à–µ, –µ—Å–ª–∏ –∏—Ö —Ä–∞—Å–∫—Ä—É—Ç–∏—Ç—å –¥–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏?', 
    a: ['–ö–æ–ª–µ—Å–æ –ê.', '–ö–æ–ª–µ—Å–æ –í.', '–ö–æ–ª–µ—Å–æ –°.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q46',
    q: '–ö–∞–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º –ª–µ–≥—á–µ –≤–µ–∑—Ç–∏ –∫–∞–º–µ–Ω—å –ø–æ –≥–ª–∞–¥–∫–æ–π –¥–æ—Ä–æ–≥–µ?', 
    a: ['–°–ø–æ—Å–æ–±–æ–º –ê.', '–°–ø–æ—Å–æ–±–æ–º –í.', '–°–ø–æ—Å–æ–±–æ–º –°.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q47',
    q: '–í –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±—É–¥–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º–µ —à–µ—Å—Ç–µ—Ä—ë–Ω—á–∞—Ç–æ–≥–æ –Ω–∞—Å–æ—Å–∞, –µ—Å–ª–∏ –µ–≥–æ —à–µ—Å—Ç–µ—Ä–Ω—è –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–æ–∫?', 
    a: ['–í —Å—Ç–æ—Ä–æ–Ω—É –ê.', '–í —Å—Ç–æ—Ä–æ–Ω—É –í.', '–í –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã.'],
    category: '–ì–∏–¥—Ä–∞–≤–ª–∏–∫–∞'
  },
  { 
    id: 'q48',
    q: '–ü—Ä–∏ –∫–∞–∫–æ–º –≤–∏–¥–µ –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–¥—ä–µ–º –≤ –≥–æ—Ä—É –Ω–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–µ —Ç—è–∂–µ–ª–µ–µ?', 
    a: ['–ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ç–∏–ø–∞ –ê.', '–ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ç–∏–ø–∞ –í.', '–ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ç–∏–ø–∞ –°.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q49',
    q: '–ù–∞ –¥–Ω–µ –µ–º–∫–æ—Å—Ç–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–µ—Å–æ–∫. –ü–æ–≤–µ—Ä—Ö –Ω–µ–≥–æ ‚Äî –≥–∞–ª—å–∫–∞ (–∫–∞–º–µ—à–∫–∏). –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å –Ω–∞—Å—ã–ø–∫–∏ –≤ –µ–º–∫–æ—Å—Ç–∏, –µ—Å–ª–∏ –≥–∞–ª—å–∫—É –∏ –ø–µ—Å–æ–∫ –ø–µ—Ä–µ–º–µ—à–∞—Ç—å?', 
    a: ['–£—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—Å–∏—Ç—Å—è.', '–£—Ä–æ–≤–µ–Ω—å –ø–æ–Ω–∏–∑–∏—Ç—Å—è.', '–£—Ä–æ–≤–µ–Ω—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º.'],
    category: '–§–∏–∑–∏–∫–∞'
  },
  { 
    id: 'q50',
    q: '–ó—É–±—á–∞—Ç–∞—è —Ä–µ–π–∫–∞ –• –¥–≤–∏–≥–∞–µ—Ç—Å—è –ø–æ–ª–º–µ—Ç—Ä–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å—Ç—Ä–µ–ª–∫–æ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏. –ù–∞ –∫–∞–∫–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ —ç—Ç–æ–º –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—Å—è —Ü–µ–Ω—Ç—Ä —à–µ—Å—Ç–µ—Ä–Ω–∏?', 
    a: ['–ù–∞ 0,16–º.', '–ù–∞ 0,25–º.', '–ù–∞ 0,5 –º.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q51',
    q: '–ö–∞–∫–∞—è –∏–∑ —à–µ—Å—Ç–µ—Ä–µ–Ω, –ê –∏–ª–∏ –í, –≤—Ä–∞—â–∞–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –∏–ª–∏ –æ–Ω–∏ –≤—Ä–∞—â–∞—é—Ç—Å—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é?', 
    a: ['–®–µ—Å—Ç–µ—Ä–Ω—è –ê –≤—Ä–∞—â–∞–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ.', '–û–±–µ —à–µ—Å—Ç–µ—Ä–Ω–∏ –≤—Ä–∞—â–∞—é—Ç—Å—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.', '–®–µ—Å—Ç–µ—Ä–Ω—è –í –≤—Ä–∞—â–∞–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q52',
    q: '–ö–∞–∫–∞—è –∏–∑ –ª–æ—à–∞–¥–æ–∫ –¥–æ–ª–∂–Ω–∞ –±–µ–∂–∞—Ç—å –Ω–∞ –ø–æ–≤–æ—Ä–æ—Ç–µ –±—ã—Å—Ç—Ä–µ–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –µ–µ –Ω–µ –æ–±–æ–≥–Ω–∞–ª–∞ –¥—Ä—É–≥–∞—è?', 
    a: ['–õ–æ—à–∞–¥–∫–∞ –ê.', '–û–±–µ –¥–æ–ª–∂–Ω—ã –±–µ–∂–∞—Ç—å —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.', '–õ–æ—à–∞–¥–∫–∞ –í.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q53',
    q: '–ò–∑ –∫–∞–∫–æ–≥–æ –∫—Ä–∞–Ω–∞ —Å–∏–ª—å–Ω–µ–µ –¥–æ–ª–∂–Ω–∞ –±–∏—Ç—å —Å—Ç—Ä—É—è –≤–æ–¥—ã, –µ—Å–ª–∏ –∏—Ö –æ—Ç–∫—Ä—ã—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?', 
    a: ['–ò–∑ –∫—Ä–∞–Ω–∞ –ê.', '–ò–∑ –∫—Ä–∞–Ω–∞ –í.', '–ò–∑ –æ–±–æ–∏—Ö –æ–¥–∏–Ω–∞–∫–æ–≤–æ.'],
    category: '–ì–∏–¥—Ä–∞–≤–ª–∏–∫–∞'
  },
  { 
    id: 'q54',
    q: '–í –∫–∞–∫–æ–º —Å–ª—É—á–∞–µ –ª–µ–≥—á–µ –ø–æ–¥–Ω—è—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–æ –≤–µ—Å—É –≥—Ä—É–∑?', 
    a: ['–í —Å–ª—É—á–∞–µ –ê.', '–í —Å–ª—É—á–∞–µ –í.', '–í –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö –æ–¥–∏–Ω–∞–∫–æ–≤–æ.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q55',
    q: '–≠—Ç–∏ —Ç–µ–ª–∞ —Å–¥–µ–ª–∞–Ω—ã –∏–∑ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞. –ö–∞–∫–æ–µ –∏–∑ –Ω–∏—Ö –∏–º–µ–µ—Ç –º–µ–Ω—å—à–∏–π –≤–µ—Å?', 
    a: ['–¢–µ–ª–æ –ê.', '–¢–µ–ª–æ –í.', '–û–±–∞ —Ç–µ–ª–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã –ø–æ –≤–µ—Å—É.'],
    category: '–ì–µ–æ–º–µ—Ç—Ä–∏—è'
  },
  { 
    id: 'q56',
    q: '–í –∫–∞–∫–æ–π —Ç–æ—á–∫–µ —à–∞—Ä–∏–∫ –¥–≤–∏–≥–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ?', 
    a: ['–í –æ–±–æ–∏—Ö —Ç–æ—á–∫–∞—Ö, –ê –∏ –í, —Å–∫–æ—Ä–æ—Å—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è.', '–í —Ç–æ—á–∫–µ –ê —Å–∫–æ—Ä–æ—Å—Ç—å –±–æ–ª—å—à–µ.', '–í —Ç–æ—á–∫–µ –í —Å–∫–æ—Ä–æ—Å—Ç—å –±–æ–ª—å—à–µ.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q57',
    q: '–ö–∞–∫–æ–π –∏–∑ –¥–≤—É—Ö —Ä–µ–ª—å—Å–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—à–µ –Ω–∞ –ø–æ–≤–æ—Ä–æ—Ç–µ?', 
    a: ['–†–µ–ª—å—Å –ê.', '–†–µ–ª—å—Å –í.', '–û–±–∞ —Ä–µ–ª—å—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –ø–æ –≤—ã—Å–æ—Ç–µ.'],
    category: '–î–∏–Ω–∞–º–∏–∫–∞'
  },
  { 
    id: 'q58',
    q: '–ö–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–µ—Å –º–µ–∂–¥—É –∫—Ä—é–∫–∞–º–∏ –ê –∏ –í?', 
    a: ['–°–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏ –Ω–∞ –æ–±–æ–∏—Ö –∫—Ä—é–∫–∞—Ö –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è.', '–ù–∞ –∫—Ä—é–∫–µ –ê —Å–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏ –±–æ–ª—å—à–µ', '–ù–∞ –∫—Ä—é–∫–µ –í —Å–∏–ª–∞ —Ç—è–∂–µ—Å—Ç–∏ –±–æ–ª—å—à–µ.'],
    category: '–°—Ç–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q59',
    q: '–ö–ª–∞–ø–∞–Ω—ã –∫–∞–∫–æ–≥–æ –Ω–∞—Å–æ—Å–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏?', 
    a: ['–ù–∞—Å–æ—Å–∞ –ê.', '–ù–∞—Å–æ—Å–∞ –í.', '–ù–∞—Å–æ—Å–∞ –°.'],
    category: '–ì–∏–¥—Ä–∞–≤–ª–∏–∫–∞'
  },
  { 
    id: 'q60',
    q: '–ö–∞–∫–∞—è –∏–∑ –æ—Å–µ–π –≤—Ä–∞—â–∞–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ?', 
    a: ['–û—Å—å –ê.', '–û—Å—å –í.', '–û—Å—å –°.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q61',
    q: '–ú–∞—Ç–µ—Ä–∏–∞–ª –∏ —Å–µ—á–µ–Ω–∏—è —Ç—Ä–æ—Å–æ–≤ –ê –∏ –í –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ. –ö–∞–∫–æ–π –∏–∑ –Ω–∏—Ö –≤—ã–¥–µ—Ä–∂–∏—Ç –±–æ–ª—å—à—É—é –Ω–∞–≥—Ä—É–∑–∫—É?', 
    a: ['–¢—Ä–æ—Å –ê.', '–¢—Ä–æ—Å –í.', '–û–±–∞ —Ç—Ä–æ—Å–∞ –≤—ã–¥–µ—Ä–∂–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É.'],
    category: '–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤'
  },
  { 
    id: 'q62',
    q: '–ö–∞–∫–æ–π –∏–∑ —Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ –¥–æ–ª–∂–µ–Ω –æ—Ç—ä–µ—Ö–∞—Ç—å –¥–∞–ª—å—à–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ª–æ–¥–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å —É –±–µ—Ä–µ–≥–∞?', 
    a: ['–¢—Ä–∞–∫—Ç–æ—Ä –ê.', '–¢—Ä–∞–∫—Ç–æ—Ä –í.', '–û–±–∞ —Ç—Ä–∞–∫—Ç–æ—Ä–∞ –¥–æ–ª–∂–Ω—ã –æ—Ç—ä–µ—Ö–∞—Ç—å –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q63',
    q: '–£ –∫–∞–∫–æ–π –∏–∑ –∫–∞–ª–∏—Ç–æ–∫ —Ç—Ä–æ—Å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω –ª—É—á—à–µ?', 
    a: ['–£ –æ–±–æ–∏—Ö –∫–∞–ª–∏—Ç–æ–∫ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ö–æ—Ä–æ—à–æ.', '–£ –∫–∞–ª–∏—Ç–∫–∏ –ê –∑–∞–∫—Ä–µ–ø–ª–µ–Ω –ª—É—á—à–µ.', '–£ –∫–∞–ª–∏—Ç–∫–∏ –í –∑–∞–∫—Ä–µ–ø–ª–µ–Ω –ª—É—á—à–µ.'],
    category: '–°—Ç–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q64',
    q: '–ö–∞–∫–æ–π —Ç–∞–ª—å—é –ª–µ–≥—á–µ –ø–æ–¥–Ω—è—Ç—å –≥—Ä—É–∑?', 
    a: ['–¢–∞–ª—å—é –ê.', '–¢–∞–ª—å—é –í.', '–û–±–µ–∏–º–∏ —Ç–∞–ª—è–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q65',
    q: '–ù–∞ –æ—Å–∏ –• –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–µ–¥—É—â–µ–µ –∫–æ–ª–µ—Å–æ, –≤—Ä–∞—â–∞—é—â–µ–µ –∫–æ–Ω—É—Å—ã. –ö–∞–∫–æ–π –∏–∑ –Ω–∏—Ö –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ?', 
    a: ['–ö–æ–Ω—É—Å –ê.', '–û–±–∞ –∫–æ–Ω—É—Å–∞ –±—É–¥—É—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ.', '–ö–æ–Ω—É—Å –í.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q66',
    q: '–ï—Å–ª–∏ –º–∞–ª–µ–Ω—å–∫–æ–µ –∫–æ–ª–µ—Å–æ –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å—Ç—Ä–µ–ª–∫–æ–π, —Ç–æ –∫–∞–∫ –±—É–¥–µ—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è –±–æ–ª—å—à–æ–µ –∫–æ–ª–µ—Å–æ?', 
    a: ['–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –ê.', '–í –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã.', '–í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –í.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q67',
    q: '–ö–∞–∫–æ–π –∏–∑ —Ç—Ä–æ—Å–æ–≤ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–æ–ª–± –Ω–∞–¥–µ–∂–Ω–µ–µ?', 
    a: ['–¢—Ä–æ—Å –ê.', '–¢—Ä–æ—Å –í.', '–¢—Ä–æ—Å –°.'],
    category: '–°—Ç–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q68',
    q: '–ö–∞–∫–æ–π –∏–∑ –ª–µ–±–µ–¥–æ–∫ —Ç—Ä—É–¥–Ω–µ–µ –ø–æ–¥–Ω–∏–º–∞—Ç—å –≥—Ä—É–∑?', 
    a: ['–õ–µ–±–µ–¥–∫–æ–π –ê.', '–û–±–µ–∏–º–∏ –ª–µ–±–µ–¥–∫–∞–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ.', '–õ–µ–±–µ–¥–∫–æ–π –í.'],
    category: '–ú–µ—Ö–∞–Ω–∏–∫–∞'
  },
  { 
    id: 'q69',
    q: '–ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Å—Ç–∞–ª—å–Ω—ã–º —Ç—Ä–æ—Å–æ–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ —Ä–µ–∫—É –º–æ—Å—Ç, —Ç–æ –∫–∞–∫ —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–µ–µ –∑–∞–∫—Ä–µ–ø–∏—Ç—å —Ç—Ä–æ—Å?', 
    a: ['–ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å. –ê.', '–ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å. –í.', '–ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å. –°.'],
    category: '–°—Ç–∞—Ç–∏–∫–∞'
  },
  { 
    id: 'q70',
    q: '–ö–∞–∫–∞—è –∏–∑ —Ü–µ–ø–µ–π –º–µ–Ω–µ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∞?', 
    a: ['–¶–µ–ø—å –ê.', '–¶–µ–ø—å –í.', '–û–±–µ —Ü–µ–ø–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ.'],
    category: '–°—Ç–∞—Ç–∏–∫–∞'
  }
];

export function EngineeringThinkingTest({ onBack }: EngineeringThinkingTestProps) {
  const navigate = useNavigate();
  const { user } = useAuth();
  const { saveTestResult, isLoading: isSaving } = useTest();
  
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [selectedAnswers, setSelectedAnswers] = useState<number[]>(Array(70).fill(0));
  const [remainingTime, setRemainingTime] = useState(1500); // 25 –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
  const [isCompleted, setIsCompleted] = useState(false);
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [showConfirmDialog, setShowConfirmDialog] = useState(false);

  // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
  useEffect(() => {
    if (isCompleted || remainingTime <= 0) return;
    
    const interval = setInterval(() => {
      setRemainingTime(prev => {
        if (prev <= 1) {
          handleTimeUp();
          return 0;
        }
        return prev - 1;
      });
    }, 1000);
    
    return () => clearInterval(interval);
  }, [isCompleted, remainingTime]);

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  useEffect(() => {
    if (!user) {
      navigate('/login');
    }
  }, [user, navigate]);

  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
  const formatTime = (seconds: number) => {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  };

  // –ü–æ–¥—Å—á–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  const calculateResults = () => {
    let totalCorrect = 0;
    const categoryStats: Record<string, { correct: number; total: number }> = {};
    
    selectedAnswers.forEach((answer, index) => {
      const question = questions[index];
      const category = question?.category || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
      
      if (!categoryStats[category]) {
        categoryStats[category] = { correct: 0, total: 0 };
      }
      
      categoryStats[category].total++;
      
      if (answer > 0 && answer === answerKey[index]) {
        totalCorrect++;
        categoryStats[category].correct++;
      }
    });

    return { totalCorrect, categoryStats };
  };

  // –í—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞
  const handleAnswerSelect = (answerNumber: number) => {
    const newAnswers = [...selectedAnswers];
    newAnswers[currentQuestion] = answerNumber;
    setSelectedAnswers(newAnswers);
    setError(null);
  };

  // –ù–∞–≤–∏–≥–∞—Ü–∏—è
  const handleNext = () => {
    if (selectedAnswers[currentQuestion] === 0) {
      setError('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç');
      return;
    }
    
    if (currentQuestion < 69) {
      setCurrentQuestion(currentQuestion + 1);
      setError(null);
    }
  };

  const handlePrevious = () => {
    if (currentQuestion > 0) {
      setCurrentQuestion(currentQuestion - 1);
      setError(null);
    }
  };

  // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
  const handleTimeUp = () => {
    if (!isCompleted) {
      setShowConfirmDialog(true);
    }
  };

  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  const saveResultsToServer = async () => {
    setIsSubmitting(true);
    setError(null);
    
    try {
      const { totalCorrect, categoryStats } = calculateResults();
      const percentage = Math.round((totalCorrect / 70) * 100);
      const timeSpent = 1500 - remainingTime;
      
      const result = {
        testType: 'engineering-thinking' as const,
        score: totalCorrect,
        answers: selectedAnswers.map((answer, index) => ({
          questionId: questions[index].id,
          answer,
          correctAnswer: answerKey[index],
          isCorrect: answer > 0 && answer === answerKey[index]
        })),
        metadata: {
          completedAt: new Date().toISOString(),
          timeSpent,
          percentage,
          categoryStats,
          userEmail: user?.email,
          userName: `${user?.firstName || ''} ${user?.lastName || ''}`.trim(),
          totalQuestions: 70,
          answeredQuestions: selectedAnswers.filter(a => a > 0).length
        }
      };

      await saveTestResult(result);
      setIsCompleted(true);
      
      // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(() => {
        navigate('/my-results?test=engineering-thinking&new=true');
      }, 2000);
      
    } catch (err) {
      setError(err instanceof Error ? err.message : '–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤');
      console.error('Failed to save test results:', err);
    } finally {
      setIsSubmitting(false);
    }
  };

  // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
  const confirmComplete = () => {
    if (selectedAnswers.filter(a => a > 0).length < 70) {
      setShowConfirmDialog(true);
    } else {
      saveResultsToServer();
    }
  };

  // –ü–æ–¥—Å—á–µ—Ç –æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
  const answeredCount = selectedAnswers.filter(a => a > 0).length;
  const completionPercentage = Math.round((answeredCount / 70) * 100);
  const timeWarning = remainingTime < 300; // 5 –º–∏–Ω—É—Ç

  if (isCompleted) {
    const { totalCorrect } = calculateResults();
    const percentage = Math.round((totalCorrect / 70) * 100);
    
    return (
      <div className="min-h-screen p-4 py-8 flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50">
        <Card className="max-w-2xl w-full animate-fade-in">
          <CardHeader>
            <div className="text-center">
              <div className="inline-flex items-center justify-center size-16 rounded-full bg-green-100 mb-4">
                <CheckCircle className="size-8 text-green-600" />
              </div>
              <CardTitle className="text-2xl">–¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!</CardTitle>
              <CardDescription className="text-lg">
                –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
              </CardDescription>
            </div>
          </CardHeader>
          <CardContent className="space-y-6">
            <div className="p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl shadow-sm">
              <div className="text-center">
                <div className="text-6xl font-bold text-green-600 mb-2">{totalCorrect}</div>
                <div className="text-gray-600 text-lg">–∏–∑ 70 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</div>
                <div className="text-3xl text-green-700 mt-3 font-semibold">
                  {percentage}%
                </div>
                <div className="mt-2 text-gray-500">
                  –ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è: {formatTime(1500 - remainingTime)}
                </div>
              </div>
            </div>
            
            <div className="space-y-3">
              <Button 
                onClick={() => navigate('/my-results?test=engineering-thinking')}
                className="w-full bg-indigo-600 hover:bg-indigo-700 h-12"
              >
                –ü–µ—Ä–µ–π—Ç–∏ –∫ –¥–µ—Ç–∞–ª—å–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
              </Button>
              <Button 
                variant="outline"
                onClick={onBack || (() => navigate('/dashboard'))}
                className="w-full h-12"
              >
                –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
              </Button>
            </div>
            
            <div className="text-center text-sm text-gray-500 pt-4 border-t">
              –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –≤–∞—à–µ–º –ø—Ä–æ—Ñ–∏–ª–µ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è
            </div>
          </CardContent>
        </Card>
      </div>
    );
  }

  const currentQ = questions[currentQuestion];

  return (
    <div className="min-h-screen p-4 py-8 bg-gray-50">
      <div className="max-w-6xl mx-auto space-y-6">
        {/* Header */}
        <Card className="shadow-sm">
          <CardHeader>
            <div className="flex flex-col md:flex-row md:items-center justify-between gap-4">
              <div className="flex items-center gap-3">
                <Button 
                  variant="outline" 
                  size="sm"
                  onClick={onBack || (() => navigate('/dashboard'))}
                  disabled={isSubmitting}
                >
                  <ArrowLeft className="size-4" />
                </Button>
                <div>
                  <CardTitle className="text-xl md:text-2xl">–¢–µ—Å—Ç –Ω–∞ –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ</CardTitle>
                  <CardDescription className="flex items-center gap-2">
                    <span className="inline-flex items-center px-2 py-1 rounded-full bg-blue-100 text-blue-700 text-xs">
                      {currentQ.category}
                    </span>
                    <span>–¢–µ—Å—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π</span>
                  </CardDescription>
                </div>
              </div>
              
              <div className="flex flex-col md:items-end gap-2">
                <div className="flex items-center gap-2">
                  <Clock className={`size-5 ${timeWarning ? 'text-red-500 animate-pulse' : 'text-gray-600'}`} />
                  <span className={`text-xl md:text-2xl font-mono ${timeWarning ? 'text-red-600 font-bold' : 'text-gray-700'}`}>
                    {formatTime(remainingTime)}
                  </span>
                </div>
                <div className="text-sm text-gray-500">
                  {timeWarning ? '–û—Å—Ç–∞–ª–æ—Å—å –º–µ–Ω–µ–µ 5 –º–∏–Ω—É—Ç!' : '–î–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞'}
                </div>
              </div>
            </div>
          </CardHeader>
        </Card>

        {/* Progress Stats */}
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          <Card className="bg-white">
            <CardContent className="pt-6">
              <div className="text-center">
                <div className="text-3xl font-bold text-indigo-600">{answeredCount}</div>
                <div className="text-sm text-gray-600">–û—Ç–≤–µ—á–µ–Ω–æ –≤–æ–ø—Ä–æ—Å–æ–≤</div>
                <Progress value={completionPercentage} className="mt-2 h-2" />
              </div>
            </CardContent>
          </Card>
          
          <Card className="bg-white">
            <CardContent className="pt-6">
              <div className="text-center">
                <div className="text-3xl font-bold text-green-600">
                  {calculateResults().totalCorrect}
                </div>
                <div className="text-sm text-gray-600">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</div>
              </div>
            </CardContent>
          </Card>
          
          <Card className="bg-white">
            <CardContent className="pt-6">
              <div className="text-center">
                <div className="text-3xl font-bold text-blue-600">
                  {currentQuestion + 1}
                </div>
                <div className="text-sm text-gray-600">–¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å</div>
              </div>
            </CardContent>
          </Card>
        </div>

        {/* Question Card */}
        <Card className="shadow-lg">
          <CardHeader className="bg-gradient-to-r from-indigo-50 to-white border-b">
            <div className="flex items-center justify-between">
              <CardTitle className="text-lg md:text-xl">
                –í–æ–ø—Ä–æ—Å {currentQuestion + 1} –∏–∑ 70
              </CardTitle>
              <span className="text-sm px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full">
                {currentQ.category}
              </span>
            </div>
          </CardHeader>
          
          <CardContent className="pt-6">
            {/* Question Text */}
            <div className="mb-8">
              <h3 className="text-lg md:text-xl font-medium text-gray-800 leading-relaxed">
                {currentQ.q}
              </h3>
            </div>

            {/* Image placeholder */}
            <div className="mb-8 p-6 md:p-8 bg-gradient-to-br from-gray-50 to-white rounded-xl border-2 border-gray-200 text-center">
              <div className="aspect-video flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200">
                <div className="text-center">
                  <div className="text-4xl mb-2">üîß</div>
                  <div className="text-gray-600">–°—Ö–µ–º–∞ –∫ –≤–æ–ø—Ä–æ—Å—É {currentQuestion + 1}</div>
                  <div className="text-sm text-gray-400 mt-2">
                    –ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Ç–µ—Å—Ç–µ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Å—Ö–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è
                  </div>
                </div>
              </div>
            </div>

            {/* Error message */}
            {error && (
              <div className="mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3">
                <AlertCircle className="size-5 text-red-500 flex-shrink-0 mt-0.5" />
                <span className="text-red-700">{error}</span>
              </div>
            )}

            {/* Answer options */}
            <div className="space-y-3">
              {currentQ.a.map((answer, idx) => (
                <button
                  key={idx}
                  onClick={() => handleAnswerSelect(idx + 1)}
                  disabled={isSubmitting}
                  className={`w-full p-4 text-left rounded-xl border-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${
                    selectedAnswers[currentQuestion] === idx + 1
                      ? 'border-indigo-500 bg-indigo-50 shadow-sm scale-[1.02]'
                      : 'border-gray-200 hover:border-indigo-300 hover:bg-indigo-50/50'
                  }`}
                >
                  <div className="flex items-center gap-4">
                    <div className={`size-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${
                      selectedAnswers[currentQuestion] === idx + 1
                        ? 'border-indigo-600 bg-indigo-600'
                        : 'border-gray-400'
                    }`}>
                      {selectedAnswers[currentQuestion] === idx + 1 && (
                        <div className="size-2.5 rounded-full bg-white" />
                      )}
                    </div>
                    <div className="flex-1">
                      <span className={`font-medium ${
                        selectedAnswers[currentQuestion] === idx + 1
                          ? 'text-indigo-700'
                          : 'text-gray-700'
                      }`}>
                        {String.fromCharCode(65 + idx)}) {answer}
                      </span>
                    </div>
                  </div>
                </button>
              ))}
            </div>
          </CardContent>
        </Card>

        {/* Navigation */}
        <div className="flex flex-col md:flex-row gap-4">
          <div className="flex gap-4 md:flex-1">
            <Button
              variant="outline"
              onClick={handlePrevious}
              disabled={currentQuestion === 0 || isSubmitting}
              className="flex-1 h-12"
            >
              –ù–∞–∑–∞–¥
            </Button>
            
            {currentQuestion < 69 ? (
              <Button
                onClick={handleNext}
                disabled={isSubmitting}
                className="flex-1 h-12 bg-indigo-600 hover:bg-indigo-700"
              >
                –î–∞–ª–µ–µ
              </Button>
            ) : (
              <Button
                onClick={confirmComplete}
                disabled={isSubmitting}
                className="flex-1 h-12 bg-green-600 hover:bg-green-700"
              >
                {isSubmitting ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : '–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç'}
              </Button>
            )}
          </div>
          
          <Button
            variant="outline"
            onClick={confirmComplete}
            disabled={isSubmitting}
            className="h-12 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700"
          >
            –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–æ—Å—Ä–æ—á–Ω–æ
          </Button>
        </div>

        {/* Question Navigation Dots */}
        <Card>
          <CardContent className="pt-6">
            <div className="text-sm font-medium text-gray-700 mb-3">
              –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º:
            </div>
            <div className="flex flex-wrap gap-2">
              {Array.from({ length: 70 }).map((_, idx) => (
                <button
                  key={idx}
                  onClick={() => setCurrentQuestion(idx)}
                  disabled={isSubmitting}
                  className={`size-8 md:size-9 rounded-lg flex items-center justify-center text-sm font-medium transition-all ${
                    selectedAnswers[idx] > 0
                      ? idx === currentQuestion
                        ? 'bg-green-500 text-white scale-110'
                        : 'bg-green-100 text-green-700 hover:bg-green-200'
                      : idx === currentQuestion
                      ? 'bg-indigo-500 text-white scale-110'
                      : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                  } ${idx === currentQuestion ? 'ring-2 ring-offset-1 ring-indigo-300' : ''}`}
                  title={`–í–æ–ø—Ä–æ—Å ${idx + 1}${selectedAnswers[idx] > 0 ? ' (–æ—Ç–≤–µ—á–µ–Ω)' : ''}`}
                >
                  {idx + 1}
                </button>
              ))}
            </div>
          </CardContent>
        </Card>

        {/* Legend */}
        <div className="flex flex-wrap gap-4 justify-center text-sm">
          <div className="flex items-center gap-2">
            <div className="size-3 rounded-full bg-green-100 border border-green-300"></div>
            <span className="text-gray-600">–û—Ç–≤–µ—á–µ–Ω–æ</span>
          </div>
          <div className="flex items-center gap-2">
            <div className="size-3 rounded-full bg-gray-100 border border-gray-300"></div>
            <span className="text-gray-600">–ù–µ –æ—Ç–≤–µ—á–µ–Ω–æ</span>
          </div>
          <div className="flex items-center gap-2">
            <div className="size-3 rounded-full bg-indigo-500"></div>
            <span className="text-gray-600">–¢–µ–∫—É—â–∏–π</span>
          </div>
        </div>
      </div>

      {/* Confirmation Dialog */}
      {showConfirmDialog && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
          <Card className="max-w-md w-full animate-scale-in">
            <CardHeader>
              <CardTitle className="text-red-600 flex items-center gap-2">
                <AlertCircle className="size-5" />
                –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç –¥–æ—Å—Ä–æ—á–Ω–æ?
              </CardTitle>
            </CardHeader>
            <CardContent className="space-y-4">
              <p className="text-gray-600">
                –í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ {answeredCount} –∏–∑ 70 –≤–æ–ø—Ä–æ—Å–æ–≤. 
                {answeredCount < 70 && ' –ù–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –∑–∞—Å—á–∏—Ç–∞–Ω—ã –∫–∞–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ.'}
              </p>
              <p className="text-sm text-gray-500">
                –û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è: {formatTime(remainingTime)}
              </p>
              <div className="flex gap-3 pt-2">
                <Button
                  variant="outline"
                  onClick={() => setShowConfirmDialog(false)}
                  className="flex-1"
                >
                  –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ—Å—Ç
                </Button>
                <Button
                  onClick={() => {
                    setShowConfirmDialog(false);
                    saveResultsToServer();
                  }}
                  className="flex-1 bg-red-600 hover:bg-red-700"
                  disabled={isSubmitting}
                >
                  {isSubmitting ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : '–ó–∞–≤–µ—Ä—à–∏—Ç—å'}
                </Button>
              </div>
            </CardContent>
          </Card>
        </div>
      )}
    </div>
  );
}

// –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
const styles = `
@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.animate-scale-in {
  animation: scale-in 0.2s ease-out;
}
`;

// –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç
if (typeof document !== 'undefined') {
  const styleSheet = document.createElement("style");
  styleSheet.textContent = styles;
  document.head.appendChild(styleSheet);
}

export default EngineeringThinkingTest;